В программе выполняется ряд манипуляций, которые могут запутать.
Но если разобрать код, то становится понятно, что имеют значение два момента:
1) У программы должен быть 1 аргумент, чтобы что-то выполнилось.
2) Этот аргумент является числом (atoi от аргумента), которое становится индексом для '\0' в строке,
и начало флага до этого индекса должно совпадать с аргументом.
Вот такая вот загадка.

./bonus3 ""